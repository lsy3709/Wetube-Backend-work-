{% extends "base.html" %}

{% block title %}회원정보 수정 - WeTube{% endblock %}

{% block content %}
  <div class="auth-page">
    <div class="auth-card">
      <h1>회원정보 수정</h1>
      <p id="profile-msg" class="auth-msg" role="status" aria-live="polite"></p>
      <form id="profile-form" class="auth-form" method="post" action="#" enctype="multipart/form-data">
        <div class="form-group profile-image-group">
          <label>프로필 사진</label>
          <div class="profile-image-wrapper">
            <div class="profile-image-preview">
              <img id="profile-image-preview" src="" alt="프로필 미리보기" style="display: none;">
              <div id="profile-image-placeholder" class="profile-image-placeholder">
                <span class="profile-image-icon">👤</span>
                <span class="profile-image-text">사진 없음</span>
              </div>
            </div>
            <div class="profile-image-actions">
              <label for="profile-image-input" class="btn btn--outline" style="cursor: pointer; margin-bottom: 8px;">
                사진 선택
              </label>
              <input type="file" id="profile-image-input" name="profile_image" accept="image/*" style="display: none;">
              <button type="button" id="profile-image-remove" class="btn btn--outline" style="display: none;">사진 제거</button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="profile-username">사용자명 <span class="required">*</span></label>
          <input type="text" id="profile-username" name="username" placeholder="사용자명" autocomplete="username" value="aaa" required>
        </div>
        <div class="form-group">
          <label for="profile-email">이메일 <span class="required">*</span></label>
          <input type="email" id="profile-email" name="email" placeholder="이메일" autocomplete="email" required>
        </div>
        <div class="form-group">
          <label for="profile-nickname">닉네임</label>
          <input type="text" id="profile-nickname" name="nickname" placeholder="닉네임" autocomplete="nickname">
        </div>
        <div class="form-group">
          <label for="profile-password">비밀번호 변경 (선택)</label>
          <input type="password" id="profile-password" name="password" placeholder="새 비밀번호" autocomplete="new-password">
          <small class="form-hint">비밀번호를 변경하지 않으려면 비워두세요.</small>
        </div>
        <div class="form-group">
          <label for="profile-password-confirm">비밀번호 확인</label>
          <input type="password" id="profile-password-confirm" name="password_confirm" placeholder="새 비밀번호 확인" autocomplete="new-password">
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn--primary btn--block">저장</button>
          <a href="{{ url_for('main.index') }}" class="btn btn--outline btn--block" style="margin-top: 12px; text-align: center; text-decoration: none;">취소</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/auth-profile-page.js') }}"></script>
{% endblock %}
