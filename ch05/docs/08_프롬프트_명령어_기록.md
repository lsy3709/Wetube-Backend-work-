# 08. 프롬프트 명령어 기록

AI(에이전트)에 지시한 프롬프트와 수행한 작업을 기록합니다. 앞으로 새로 실행한 명령어도 같은 형식으로 아래에 이어서 기록하세요.

---

## 지금까지 사용한 프롬프트

| #   | 사용한 프롬프트 (요지)                                                                 | 수행한 작업 요약                                                                                                                                                                |
| --- | -------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | CH05 상위 폴더에 깃 연결되어 있으니 깃 연결 및 커밋 해달라                             | 상위 폴더(Wetube)에서 `git status` 확인. 원격 `origin` 연결·작업 트리 clean 상태라 커밋할 변경 없음 안내                                                                        |
| 2   | 현재 작업 내역 깃 커밋 및 푸시 해달라                                                  | `git status` 재확인. 변경 사항 없어 커밋 불필요 안내, 저장 후 다시 요청하라고 안내                                                                                              |
| 3   | flask run 실행 및 확인 해달라                                                          | `FLASK_APP=app` 설정 후 `flask run`. 의존성 없어 `pip install -r requirements.txt` 실행 후 서버 기동, http://127.0.0.1:5000 루트 200 확인                                       |
| 4   | 로그인 미연동이므로 DEFAULT_USER_ID 사용, 기본 아이디가 무엇인가요                     | `config.DEFAULT_USER_ID` = 1 임을 코드·문서에서 확인해 안내                                                                                                                     |
| 5   | /studio 접근 시 로그인 필요하다고 하니, 임시 유저 또는 스튜디오로 가는 링크 추가해달라 | 헤더에 Studio 링크 추가(base.html). studio 인덱스/업로드/편집 템플릿에서 로그인 필요 블록 제거. studio-page.js, studio-upload-page.js, studio-edit-page.js에서 로그인 체크 제거 |
| 6   | 현재 작업 체크리스트 및 문서화 후, 깃 커밋 및 푸시                                     | 07*작업*체크리스트.md 신규 작성, 06*사용*및\_테스트.md 보완. 소스·문서만 스테이징(pycache/instance 제외) 후 커밋·푸시                                                           |
| 7   | 깃 커밋 및 푸시 시 디렉터리 허용 여부 없이 바로 진행되게 해달라                        | `git config --global --add safe.directory "*"` 적용. dubious ownership 질문 없이 작업 가능하도록 설정                                                                           |
| 8   | 깃 커밋 및 푸시 작업                                                                   | instance/wetube.db 스테이징 해제 후, 07*작업*체크리스트.md 수정분만 커밋·푸시                                                                                                   |
| 9   | 지금까지 작업한 프롬프트 명령어를 문서화에 기록하고, 앞으로의 명령어도 같이 기록해달라 | 본 문서(08_프롬프트_명령어_기록.md) 작성 |
| 10  | __init__, __main__, models, routes 등 파일에 코드 주석·개념·다이어그램·문법·사용법 정리 | 10_코드_주석_개념_다이어그램_문법_사용법.md 신규, Mermaid 개요도·순서도·ER, 파일별 주석·문법·예시. models/routes 한글 주석 보강 |
| 11  | 10 문서 1.3 부분 그래프 에러 수정해달라 | Mermaid 1.3 flowchart에서 *·괄호·→ 등 특수문자 제거, 노드 레이블 단순화로 렌더 오류 해결 |
| 12  | app\\__init__.py 코드에 각각 기능 및 주석 작성해달라 | __init__.py 모듈·create_app 단계별 기능 설명·한글 주석 추가 |
| 13  | app\\__main__.py 코드에 각각 기능 및 주석 작성해달라 | __main__.py docstring·from app import app·if __name__·app.run() 기능·주석 추가 |
| 14  | 작업 후 07·08 정리 및 깃 커밋 및 푸시 해달라 | 07 체크리스트에 문서·코드 주석·수정 파일 목록 보강, 08에 프롬프트 10~14 추가. 소스·문서만 커밋 후 푸시 |
| 15  | 10 문서 1.1 순서도에서 __main__.py 먼저 실행? 정확한 실행·순서·동작 원리 | 10 문서 1.1 수정: __init__.py 가 항상 먼저 실행됨을 표·다이어그램·요약으로 정리. 1.1-2 Mermaid 수정 |
| 16  | __init__.py 89-98 각 코드 주석 | with app.app_context(), db.create_all(), User.query.get(1), default_user, session.add/commit 한글 주석 추가 |
| 17  | db 객체는 어디서 나왔나요? | 19번째 줄 db = SQLAlchemy() 출처·흐름(모듈 로드 → init_app → create_all) 안내 |
| 18  | SECRET_KEY="dev-frontend-only" 사용의미 | 세션·flash·CSRF 서명용, 개발 전용 고정값, 운영 시 환경변수·강한 키 필수 안내 |
| 19  | SQLALCHEMY_TRACK_MODIFICATIONS=False 사용의미 주석 | __init__.py에 모델 변경 추적 비활성화·오버헤드·False 권장 주석 추가 |
| 20  | SECRET_KEY 사용의미 주석 | __init__.py에 세션·flash·CSRF 서명, 개발 전용, 운영 시 강한 랜덤 키 주석 추가 |
| 21  | flask run / 직접 실행( python -m app ) 차이점? 주석 추가 | __init__.py에 모듈 레벨·if __name__ 블록별 차이(flask run / python -m app / python app/__init__.py) 주석 추가 |
| 22  | 무엇을 하는게 좋은가요? | 실행·푸시·gitignore, 로그인·영상 재생·Studio 목록·visibility 등 다음 단계 제안 |
| 23  | flask run / python -m app 실행 시 무엇이 좋은가요? | flask run 추천(리로더·Flask 규약), python -m app 사용 케이스 안내 |
| 24  | set FLASK_APP=app / flask run – flask run 만 해도 되나요? | FLASK_APP 필요 이유 안내, .flaskenv 생성(FLASK_APP=app)으로 flask run 만으로 기동 가능하게 함 |
| 25  | 해당 터미널은 가상환경 자동 안 잡히고, 파워쉘은 자동 잡히는 이유? | PowerShell 프로필 vs Cursor 터미널 설정 차이, Python 인터프리터·Terminal Activate Environment·.vscode/settings.json 안내 |
| 26  | 지금까지 질문한 프롬프트 08 기록·내용 문서화 md | 08에 프롬프트 15~26 추가, 11_프롬프트_답변_문서화.md 신규 작성(질문·답변 내용 정리) |
| 27  | Flask(__name__) 이름을 어디서 설정 및 받고 있나요? 위치? 파일? | __name__ 은 Python이 자동 설정. app/__init__.py 의 Flask(__name__) 에서 받음. 패키지 로드 시 "app" | 
| 28  | 기본값 이름이 app 인가요? 아니면 변경이 가능한가요? | 기본값이 아니라 패키지 이름이 app 이라서 __name__ 이 "app". Flask("다른이름") 으로 변경 가능, __name__ 유지 권장 |
| 29  | 가상환경 접근 명령어 | PowerShell·CMD·Linux/Mac 별 venv 활성화·비활성화 명령어 안내 |
| 30  | 문서화 .md | docs 폴더 내 01~11 문서 목록·내용 요약 표 안내 |
| 31  | 최근 프롬프트 명령어 정리 및 답변 문서화 | 08에 프롬프트 29~31 추가, 11에 13·14절(가상환경 명령어·문서화 .md 답변) 추가 |
| 32  | templates/·static/ HTML·CSS·JS를 Flask 백엔드와 연결 | main index/watch/search, studio index/edit DB 연동. 미디어 서빙 라우트, video/thumbnail URL |
| 33  | table.sql 참고 Video-Tag N:M, save_tags() 메서드 작성 | Tag 모델, video_tags, Video.save_tags(콤마 파싱) |
| 34  | 13_Video_Tag_N대M_관계_및_save_tags md 문서화 | docs/13_...md 신규 작성 |
| 35  | Video-Tag 기능 단위테스트 작성 | test_video_tag.py 12개, conftest real_app·in-memory |
| 36  | pytest 경고(Query.get, datetime.utcnow) 해결 | db.session.get(), _utc_now() 적용 |
| 37  | tags·video_tags 테이블 시드 데이터 삽입 | test_seed_tags_data.py, scripts/seed_db.py |
| 38  | templates/·static/를 백엔드 기능과 연결 (태그 포함) | popular_tags, tag 페이지 DB, watch 태그·추천, studio 태그 입력 |
| 39  | 동영상 업로드 화면에 태그 입력란 추가·연동 | (이미 구현됨) 확인 안내 |
| 40  | 인기 태그 클릭 시 분류 적용 안 됨 | index에 ?tag= 필터, 카테고리/정렬 링크에 tag 파라미터 유지 |
| 41  | /tag/눈 TypeError: unexpected keyword argument 'tag' | 라우트 <tag>→<tag_name>, url_for tag_name= 수정 |
| 42  | 태그·카테고리 선택 시 사라지는 현상, active 표시 | home-filter-bar sticky, 파라미터 유지, active 클래스 |
| 43  | 업로드 화면에 카테고리 선택 없음 | upload·edit에 category select, 라우트 저장 로직 |
| 44  | active 버튼 배경 파란색→빨간색 | .filter-tab-home.active, .tag-pill.active 등 --accent 적용 |
| 45  | 작업 프롬프트·체크리스트 문서화 | 07·08 업데이트 |

---

## 앞으로의 명령어 (추가 기록)

새로 실행한 프롬프트는 아래 표에 같은 형식으로 추가하세요.

| #   | 사용한 프롬프트 (요지)         | 수행한 작업 요약 |
| --- | ------------------------------ | ---------------- |
|     | …                              | …                |

---

## 자주 쓰는 명령어 참고

- **Flask 실행**: `cd ch05` → `flask run` (`.flaskenv` 에 FLASK_APP=app 있음) 또는 `set FLASK_APP=app` 후 `flask run` (http://127.0.0.1:5000)
- **가상환경 활성화** (ch05 안): PowerShell `.\venv\Scripts\Activate.ps1` / CMD `venv\Scripts\activate.bat` / Linux·Mac `source venv/bin/activate`. 비활성화: `deactivate`
- **단위 테스트**: `pytest tests/ -v` / `pytest tests/test_video_tag.py -v`
- **DB 시드**: `pytest tests/test_seed_tags_data.py -v` 또는 `python scripts/seed_db.py` (실제 DB에 tags·video_tags 삽입)
- **Git 상태 확인**: `cd Wetube` → `git status`
- **커밋·푸시(소스만)**: `git add` 로 pycache/instance 제외 후 `git commit -m "..."` → `git push origin main`
- **safe.directory**: 이미 `safe.directory *` 설정됨 (디렉터리 허용 질문 없음)
