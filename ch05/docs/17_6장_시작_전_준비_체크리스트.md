# ğŸ“Œ 6ì¥ ì‹œì‘ ì „ ì¤€ë¹„ ì‚¬í•­ â€“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì•„ë˜ê°€ ëª¨ë‘ ì™„ë£Œë˜ì–´ ìˆì–´ì•¼ 6ì¥ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 1. 5ì¥ ì™„ë£Œ ì—¬ë¶€

| í•­ëª© | ìƒíƒœ | í™•ì¸ ë°©ë²• |
|------|------|-----------|
| ë¹„ë””ì˜¤ ì—…ë¡œë“œ | âœ… | `POST /studio/upload`, ì œëª©Â·íŒŒì¼ ê²€ì¦, DB ì €ì¥, `Video.save_tags()` |
| ì¹´í…Œê³ ë¦¬Â·íƒœê·¸ | âœ… | `Video.category`, íƒœê·¸ ì…ë ¥Â·íŒŒì‹±Â·ì—°ê²° (`video_tags`), í™ˆ/íƒœê·¸ í•„í„° |
| ìˆ˜ì •Â·ì‚­ì œ | âœ… | `GET/POST /studio/edit/<id>`, `POST /studio/delete/<id>`, ì†Œìœ ì ê²€ì‚¬(`_require_video_owner`) |
| ìŠ¤íŠœë””ì˜¤ í†µê³„ | âœ… | `_get_studio_dashboard_data()`, í†µê³„Â·ìµœê·¼ í™œë™Â·ì¸ê¸° TOP5Â·ëª©ë¡ |

**ì°¸ê³ **: `app/routes/studio.py`, `app/templates/studio/` (index, upload, edit), `app/static/js/studio-edit-page.js`

---

## 2. ëª¨ë¸ ë° í…Œì´ë¸”

| í•­ëª© | ìƒíƒœ | ìœ„ì¹˜ |
|------|------|------|
| `Video` ëª¨ë¸ | âœ… | `app/models/video.py` |
| `Tag` ëª¨ë¸ | âœ… | `app/models/tag.py` |
| `User` ëª¨ë¸ | âœ… | `app/models/user.py` |
| `video_tags` í…Œì´ë¸” | âœ… | `app/models/video.py` ë‚´ `video_tags = db.Table("video_tags", ...)` |

**ì°¸ê³ **: `from app.models import User, Video, Tag` ì‚¬ìš©, `Video.tags` ê´€ê³„ë¡œ N:M ì—°ê²°.

---

## 3. ë¯¸ë””ì–´(ì—…ë¡œë“œ) ë¼ìš°íŠ¸

| í•­ëª© | ìƒíƒœ | ë¼ìš°íŠ¸ |
|------|------|--------|
| ë¹„ë””ì˜¤ íŒŒì¼ ì œê³µ | âœ… | `GET /media/videos/<path:filename>` â†’ `media_video()` |
| ì¸ë„¤ì¼ íŒŒì¼ ì œê³µ | âœ… | `GET /media/thumbnails/<path:filename>` â†’ `media_thumbnail()` |

**ì°¸ê³ **: `app/routes/main.py`, `send_from_directory(VIDEO_FOLDER|THUMBNAIL_FOLDER, filename)`.

---

## 4. base.html (ë„¤ë¹„ê²Œì´ì…˜, flash ë©”ì‹œì§€)

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ë„¤ë¹„ê²Œì´ì…˜ | âœ… | í—¤ë”(ë¡œê³ , ê²€ìƒ‰, Studio/ë¡œê·¸ì¸/íšŒì›ê°€ì…), ì‚¬ì´ë“œë°”(í™ˆ, êµ¬ë…, ì¹´í…Œê³ ë¦¬, Studio ë“±) |
| flash ë©”ì‹œì§€ | âš ï¸ | baseì—ëŠ” ì „ì—­ flash ë¸”ë¡ ì—†ìŒ. ê° í˜ì´ì§€(ì˜ˆ: `studio/upload.html`)ì—ì„œ `get_flashed_messages(with_categories=true)` ì‚¬ìš©. 6ì¥ì—ì„œ ì „ì—­ í‘œì‹œ í•„ìš” ì‹œ baseì— ë¸”ë¡ ì¶”ê°€ ê°€ëŠ¥. |

**ì°¸ê³ **: `app/templates/base.html` (header, sidebar, `{% block content %}`).

---

## 5. ë¡œê·¸ì¸ ì—†ì´ ì§„í–‰ ì‹œ (6ì¥ ì°¸ê³ )

| í•­ëª© | ë‚´ìš© |
|------|------|
| êµ¬ë… í”¼ë“œ | ì‹œë“œ ì‚¬ìš©ì ê¸°ì¤€ìœ¼ë¡œ êµ¬í˜„ ì˜ˆì •. ì¶”í›„ `@login_required` ì¶”ê°€. |
| í˜„ì¬ ì‚¬ìš©ì ëŒ€ì²´ | `current_user` ì‚¬ìš© ì‹œ `User.query.first()` ë˜ëŠ” None ì²´í¬. ìŠ¤íŠœë””ì˜¤ëŠ” `_current_user_id()` â†’ `config["DEFAULT_USER_ID"]` ì‚¬ìš© ì¤‘. |

**ì°¸ê³ **: `app/routes/studio.py`ì˜ `_current_user_id()`, `app/routes/main.py`ì˜ `subscriptions()` (í˜„ì¬ í…œí”Œë¦¿ë§Œ ë°˜í™˜).

---

## 6. ì²´í¬ë¦¬ìŠ¤íŠ¸ ìš”ì•½

- [x] 5ì¥ ì™„ë£Œ: ë¹„ë””ì˜¤ ì—…ë¡œë“œ, ì¹´í…Œê³ ë¦¬Â·íƒœê·¸, ìˆ˜ì •Â·ì‚­ì œ, ìŠ¤íŠœë””ì˜¤ í†µê³„
- [x] `Video`, `Tag`, `User` ëª¨ë¸ ë° `video_tags` í…Œì´ë¸”
- [x] ë¯¸ë””ì–´ ë¼ìš°íŠ¸: ë¹„ë””ì˜¤Â·ì¸ë„¤ì¼ íŒŒì¼ ì œê³µ (`/media/videos/`, `/media/thumbnails/`)
- [x] `base.html`: ë„¤ë¹„ê²Œì´ì…˜ (í—¤ë”Â·ì‚¬ì´ë“œë°”)
- [x] flash: í˜ì´ì§€ë³„ `get_flashed_messages()` ì‚¬ìš© (ì „ì—­ ë¸”ë¡ì€ ì„ íƒ)

**ê²°ë¡ **: 6ì¥ ì§„í–‰ì— í•„ìš”í•œ ì¤€ë¹„ ì‚¬í•­ì€ ì¶©ì¡±ëœ ìƒíƒœì…ë‹ˆë‹¤. êµ¬ë… í”¼ë“œÂ·ë¡œê·¸ì¸ ì—°ë™ì€ 6ì¥ì—ì„œ ì‹œë“œ ì‚¬ìš©ì/`User.query.first()` ë“±ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ë©ë‹ˆë‹¤.
